package purebe.battlemage.eventhandlers;

import net.minecraft.client.Minecraft;
import net.minecraft.client.renderer.GlStateManager;
import net.minecraft.client.renderer.Tessellator;
import net.minecraft.client.renderer.WorldRenderer;
import net.minecraft.util.ResourceLocation;
import net.minecraftforge.client.event.RenderGameOverlayEvent;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;

import org.lwjgl.opengl.GL11;

public class GuiEvents {
	@SubscribeEvent
	public void RenderGameOverlayEvent(RenderGameOverlayEvent event) {
		double posX = event.resolution.getScaledWidth() / 2;
		double posY = event.resolution.getScaledHeight() / 2;
		double height = 32 / event.resolution.getScaleFactor();
		double width = 32 / event.resolution.getScaleFactor();
		
		Minecraft.getMinecraft().renderEngine.bindTexture(new ResourceLocation("battlemage:textures/gui/white_symbol.png"));
		Tessellator tessellator = Tessellator.getInstance();
        WorldRenderer worldrenderer = tessellator.getWorldRenderer();

        
        //GL11.glDisable(GL11.GL_DEPTH_TEST);
        //GL11.glDisable(GL11.GL_LIGHTING);
		
        //GL11.glEnable(GL11.GL_BLEND);
       // GL11.glAlphaFunc(GL11.GL_NEVER, 0);
        //GL11.glEnable(GL11.GL_ALPHA_TEST);
        //GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);
        
		GlStateManager.enableBlend();
		GlStateManager.pushMatrix();
		
        GL11.glColor4f(1F, 1F, 1F, 0.3F);
        worldrenderer.startDrawingQuads();
        worldrenderer.addVertexWithUV(posX, posY + height, 0, 0, 1);
        worldrenderer.addVertexWithUV(posX + width, posY + height, 0, 1, 1);
        worldrenderer.addVertexWithUV(posX + width, posY, 0, 1, 0);
        worldrenderer.addVertexWithUV(posX, posY, 0, 0, 0);
        tessellator.draw();
        
        GlStateManager.popMatrix();
	}
}
