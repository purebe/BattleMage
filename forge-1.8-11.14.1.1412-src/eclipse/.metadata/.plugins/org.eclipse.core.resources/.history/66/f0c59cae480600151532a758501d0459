package purebe.battlemage.items;

import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.world.World;

public class WoodenWand extends Item {
	public WoodenWand(String unlocalizedName) {
		super();
		
		this.setUnlocalizedName(unlocalizedName);
		this.setCreativeTab(CreativeTabs.tabCombat);
	}
	
	@Override
	public ItemStack onItemUseFinish(ItemStack stack, World worldIn, EntityPlayer playerIn)
    {
        if (!playerIn.capabilities.isCreativeMode)
        {
            --stack.stackSize;
        }

        if (!worldIn.isRemote)
        {
            if (this.itemRand.nextInt(10) == 0) {
            	double positionX = playerIn.posX + (this.itemRand.nextDouble() - 0.5D) * 64.0D;
            	double positionY = playerIn.posY + (this.itemRand.nextInt(64) - 32);
            	double positionZ = playerIn.posZ + (this.itemRand.nextDouble() - 0.5D) * 64.0D;
            	playerIn.setPositionAndUpdate(positionX, positionY, positionZ);
            }
        }
        return stack;
    }
}